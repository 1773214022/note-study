# MALL-XLQ

### 整合tk.mybatis

#### 1.导入maven依赖

```xml
  <dependency>
            <groupId>tk.mybatis</groupId>
            <artifactId>mapper-spring-boot-starter</artifactId>
            <version>2.1.0</version>
        </dependency>
```

### ![](https://raw.githubusercontent.com/1773214022/picture-store/master/img/20210927150046.png)

> tk.mybatis已经包含mybatis依赖就不需要单独引入mybatis依赖了

#### 2. 配置application.yml

```xml
server:
  port: 8080
spring:
  datasource:
    url: jdbc:mysql://192.168.171.129:3306/mall?useUnicode=true&characterEncoding=utf-8
    username: root
    password: root
mybatis:
  #配置mapper映射
  mapper-locations:
    - classpath*:com/tx/mall/mapper/*.xml
```

#### 3.mapper类继承通用mapper

```java
package com.tx.mall.mapper;

import com.tx.mall.dto.PmsBrand;
import tk.mybatis.mapper.common.BaseMapper;

/**
 * @author liqi.xing@hand-china.com
 * @date 2021-09-26 19:07
 */
public interface PmsBrandMapper extends BaseMapper<PmsBrand> {
}
```

#### 4.实体类标注相关注解

- @Table：数据库表名称
- @Id ：标记该字段是主键
- @GeneratedValue ：主键的生成策略

```java
package com.tx.mall.dto;

import lombok.Data;

import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;
import javax.persistence.Table;

/**
 * @author liqi.xing@hand-china.com
 * @date 2021/3/4 15:24
 */
@Data
@Table(name = "pms_brand")
public class PmsBrand {
	@Id
	@GeneratedValue(strategy = GenerationType.IDENTITY)
	private Long id;

	private String name;

	/**
	 * 首字母
	 *
	 * @mbggenerated
	 */
	private String firstLetter;

	private Integer sort;

	/**
	 * 是否为品牌制造商：0->不是；1->是
	 *
	 * @mbggenerated
	 */
	private Integer factoryStatus;

	private Integer showStatus;

	/**
	 * 产品数量
	 *
	 * @mbggenerated
	 */
	private Integer productCount;

	/**
	 * 产品评论数量
	 *
	 * @mbggenerated
	 */
	private Integer productCommentCount;

	/**
	 * 品牌logo
	 *
	 * @mbggenerated
	 */
	private String logo;

	/**
	 * 专区大图
	 *
	 * @mbggenerated
	 */
	private String bigPic;

	/**
	 * 品牌故事
	 *
	 * @mbggenerated
	 */
	private String brandStory;

	private static final long serialVersionUID = 1L;
}
```

#### 5.启动类添加@MapperScan注解

**注意：**该注解包名在tk.mybatis下

```java
package com.tx.mall;


import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import tk.mybatis.spring.annotation.MapperScan;

@SpringBootApplication
@MapperScan(basePackages = "com.*.*.mapper")
public class MallXlqApplication {
    public static void main(String[] args) {
        SpringApplication.run(MallXlqApplication.class, args);
    }
}
```

如此便可以使用通用mapper来进行开发

### 整合Swagger2

